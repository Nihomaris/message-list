(function(e){function t(t){for(var n,c,i=t[0],a=t[1],u=t[2],f=0,d=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var a=r[i];0!==o[a]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},s=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/message-list/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=a;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1903:function(e,t,r){"use strict";var n=r("770c"),o=r.n(n);o.a},"2ba2":function(e,t,r){},"2ee0":function(e,t,r){"use strict";var n=r("2ba2"),o=r.n(n);o.a},"4c1c":function(e,t,r){"use strict";var n=r("ba2f"),o=r.n(n);o.a},"56d7":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"rooms",(function(){return u})),r.d(n,"activeRoom",(function(){return m})),r.d(n,"activeRoomId",(function(){return l})),r.d(n,"isLoading",(function(){return f})),r.d(n,"isSending",(function(){return d})),r.d(n,"messages",(function(){return p}));var o={};r.r(o),r.d(o,"SET_ACTIVE_ROOM",(function(){return b})),r.d(o,"SET_MESSAGES",(function(){return v})),r.d(o,"SET_LOADING",(function(){return O})),r.d(o,"SET_SENDING",(function(){return g})),r.d(o,"PUSH_MESSAGE",(function(){return _}));var s={};r.r(s),r.d(s,"changeActiveRoom",(function(){return j})),r.d(s,"sendMessage",(function(){return y}));r("a9e3"),r("9129"),r("25eb"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var c=r("2b0e"),i=r("2f62"),a=r("8c4f"),u=(r("7db0"),function(e){return e.rooms}),l=function(e){return e.activeRoomId},f=function(e){return e.isLoading},d=function(e){return e.isSending},p=function(e){return e.messages},m=function(e){return e.rooms.find((function(t){return e.activeRoomId===t.id}))},b=function(e,t){e.activeRoomId=t},v=function(e,t){e.messages=t},O=function(e,t){e.isLoading=t},g=function(e,t){e.isSending=t},_=function(e,t){e.messages.push(t)},h=[[{id:1,isUser:!0,author:"vasya",text:"Привет, как дела?",created:"2019-08-01 23:59"},{id:2,isUser:!1,author:"petya",created:"2019-08-02 01:20",text:"Привет, все хорошо, спасибо!"},{id:3,isUser:!1,author:"petya",created:"2019-08-02 05:20",text:"А у тебя?"}],[{id:1,isUser:!1,author:"petr",created:"2019-08-06 12:20",text:"Здравствуйте, тут есть кто-нибудь?"},{id:2,isUser:!0,author:"vasya",created:"2019-08-06 12:34",text:"Да, я вас слушаю!"},{id:3,isUser:!1,author:"petr",created:"2019-08-06 12:38",text:"Помогите мне настроить домен!"}]],j=function(e,t){var r=e.commit;r("SET_ACTIVE_ROOM",t),r("SET_LOADING",!0),setTimeout((function(){r("SET_MESSAGES",h[t-1]),r("SET_LOADING",!1)}),1e3)},y=function(e,t){var r=e.commit;r("SET_SENDING",!0),setTimeout((function(){r("PUSH_MESSAGE",{id:1,isUser:!0,author:"vasya",text:t,created:Date.now()}),r("SET_SENDING",!1)}),1e3)},S={activeRoomId:1,messages:null,isLoading:!1,isSending:!1,rooms:[{id:1,subject:"Простой запрос",created:"2019-08-01 23:59"},{id:2,subject:"Вопрос по домену",created:"2016-03-02 14:19"}]},w={state:S,getters:n,mutations:o,actions:s},P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Chat")],1)},E=[],x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chat"},[r("div",{staticClass:"chat__side"},[r("room-list")],1),r("div",{staticClass:"chat__room"},[e.activeRoom?r("router-view"):r("div",[e._v("...Выберите чат")])],1)])},R=[],C=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"room-list"},[r("div",{staticClass:"room-list__header"},[r("Header")],1),r("div",{staticClass:"room-list__body"},e._l(e.rooms,(function(t,n){return r("RoomBlock",{key:n,attrs:{index:n,room:t,activeRoomId:e.activeRoomId,changeActiveRoom:e.changeActiveRoom}})})),1)])},I=[],k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"message-counter"},[r("div",{staticClass:"message-counter__title"},[e._v("Сообщения")]),r("div",{staticClass:"message-counter__value"},[e._v("151")])])}],A={},T=A,N=(r("2ee0"),r("2877")),$=Object(N["a"])(T,k,M,!1,null,"28733768",null),G=$.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:["room-block",{"room-block_active":e.activeRoomId===e.room.id}],on:{click:function(t){return e.openRoom(e.room.id)}}},[r("div",{staticClass:"room-block__title"},[e._v(e._s(e.room.subject))]),r("div",{staticClass:"room-block__date"},[e._v(e._s(e.room.created))])])},U=[],H={props:{index:Number,room:Object,activeRoomId:Number,changeActiveRoom:Function},methods:{openRoom:function(){var e=this;this.$router.push("/message-list/room/".concat(this.room.id),(function(){return e.changeActiveRoom(e.room.id)}))}}},B=H,J=(r("4c1c"),Object(N["a"])(B,L,U,!1,null,"639b16bc",null)),V=J.exports;function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){Object(C["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z={components:{Header:G,RoomBlock:V},mounted:function(){this.setActiveRoom()},methods:q({},Object(i["b"])(["changeActiveRoom"]),{setActiveRoom:function(){var e=this.$route.params.id;this.changeActiveRoom(+e)}}),computed:q({},Object(i["c"])(["rooms","activeRoomId"]))},K=z,Q=(r("1903"),Object(N["a"])(K,D,I,!1,null,"49bb5bd4",null)),W=Q.exports;function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Object(C["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={components:{RoomList:W},computed:Y({},Object(i["c"])(["activeRoom"]))},ee=Z,te=(r("7b7f"),Object(N["a"])(ee,x,R,!1,null,"72637ee4",null)),re=te.exports,ne={name:"app",components:{Chat:re}},oe=ne,se=(r("5c0b"),Object(N["a"])(oe,P,E,!1,null,null,null)),ce=se.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"room"},[r("div",{staticClass:"room__window"},[e.messages&&!e.isLoading?e._l(e.reverseMessages,(function(e,t){return r("Message",{key:t,attrs:{index:t,message:e}})})):r("div",[e._v("...Загрузка")])],2),r("div",{staticClass:"room__chat-input"},[r("MessageInput")],1)])},ae=[],ue=(r("fb6a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:["message",{message_incoming:!e.message.isUser}]},[r("div",{staticClass:"message__text-block"},[e._v(" "+e._s(e.message.text)+" ")]),r("div",{staticClass:"message__info-block"},[r("div",{staticClass:"message__author"},[e._v(e._s(e.message.author))]),r("div",{staticClass:"message__date"},[e._v(e._s(e.message.created))])])])}),le=[],fe={props:{message:Object}},de=fe,pe=(r("e835"),Object(N["a"])(de,ue,le,!1,null,"6fed7190",null)),me=pe.exports,be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"message-input"},[r("label",{staticClass:"message-input__textfield",attrs:{for:"message-textfield"}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"message-input__input",attrs:{disabled:e.isSending,id:"message-textfield",type:"text",placeholder:"Введите текст..."},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}})]),r("button",{staticClass:"message-input__send",attrs:{disabled:e.isSending},on:{click:function(t){return e.sendMessage(e.text)}}},[e._v("Ok")])])},ve=[];function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){Object(C["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e={data:function(){return{text:""}},computed:ge({},Object(i["c"])(["isSending"])),methods:ge({},Object(i["b"])(["sendMessage"]))},he=_e,je=(r("85c7"),Object(N["a"])(he,be,ve,!1,null,"212aa4e5",null)),ye=je.exports;function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Object(C["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pe={components:{Message:me,MessageInput:ye},computed:we({},Object(i["c"])(["activeRoom","isLoading","messages"]),{reverseMessages:function(){return this.messages.slice().reverse()}})},Ee=Pe,xe=(r("817a"),Object(N["a"])(Ee,ie,ae,!1,null,"a06dc786",null)),Re=xe.exports;c["a"].use(i["a"]),c["a"].use(a["a"]),c["a"].config.productionTip=!1;var Ce=new i["a"].Store({modules:{chat:w}}),De=new a["a"]({mode:"history",routes:[{path:"/message-list/room/:id",component:Re,props:function(e){var t=Number.parseInt(e.params.userId,10);return Number.isNaN(t)?0:{userId:t}}}]});new c["a"]({render:function(e){return e(ce)},store:Ce,router:De}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),o=r.n(n);o.a},"770c":function(e,t,r){},"7b7f":function(e,t,r){"use strict";var n=r("8c9f"),o=r.n(n);o.a},"817a":function(e,t,r){"use strict";var n=r("83ab6"),o=r.n(n);o.a},"83ab6":function(e,t,r){},"85c7":function(e,t,r){"use strict";var n=r("f647"),o=r.n(n);o.a},"8c9f":function(e,t,r){},"9c0c":function(e,t,r){},ba2f:function(e,t,r){},e580:function(e,t,r){},e835:function(e,t,r){"use strict";var n=r("e580"),o=r.n(n);o.a},f647:function(e,t,r){}});
//# sourceMappingURL=app.04b7d79a.js.map